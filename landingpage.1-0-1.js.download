function endTime(a){var b=Date.parse(a)-Date.parse(new Date),c=Math.floor(b/1e3%60),d=Math.floor(b/1e3/60%60),e=Math.floor(b/36e5%24),f=Math.floor(b/864e5);return{t:b,d:f,h:e,m:d,s:c}}function countDown(a,b){function c(){var c=endTime(b);c.t>0?(e.text(c.d),f.text(c.h),g.text(c.m),h.text(c.s)):(e.text("00"),f.text("00"),g.text("00"),h.text("00"),clearInterval(i),$(a.attr("lp-show")).addClass("animated fadeInDown").css({display:"block"}))}var d=a.find("div > span"),e=d.eq(0),f=d.eq(1),g=d.eq(2),h=d.eq(3);c();var i=setInterval(c,1e3)}var runSlider,timeoutSlider,leftchange=1,widthWindow=$(window).outerWidth(),isOpera=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,isFirefox="undefined"!=typeof InstallTrigger,isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,isIE=!!document.documentMode,isEdge=!isIE&&!!window.StyleMedia,isChrome=!!window.chrome&&!!window.chrome.webstore,showpop={loadpage:0,outpage:0,idSroll:[]},LP_DOC={};LP_DOC.arrAnimate=[];var resetTopPopup=function(){var a=$('.widget-section[lp-popup="true"]');if(a&&a.length>0){var b,c,d=$(window).outerHeight();a.each(function(){b=$(this).find(".container").eq(0).outerHeight(),c=(d-b)/2,40>c&&(c=40),$(this).find(".container").eq(0).css({top:c+"px"})})}},getUtm=function(){for(var a=window.location.href,b=0,c=0;c<a.length;c++)if("?"==a[c]){b=c;break}return b>0&&(a=a.substr(b,a.length-b)),a},removecheckphone=function(){$(".formHintBubble").remove()},checkphone=function(a){var b=!0;if($(a)&&$(a).length>0&&"phone"==$(a).attr("name")){var c=$(a).val();if($(".formHintBubble").remove(),10==c.length||11==c.length)if(c=c.replace(/[^0-9]/g,""),10==c.length||11==c.length);else{var d=$(a).parent().parent(),e=parseFloat($(a).parent().css("height"))+parseFloat($(a).parent().css("top")),f=$("<span/>").html('<span class="formHintBubble" style="top: '+e+'px;">Không phải số điện thoại</span>').contents();d.append(f),$(a).val(c),b=!1}else{var d=$(a).parent().parent(),e=parseFloat($(a).parent().css("height"))+parseFloat($(a).parent().css("top")),f=$("<span/>").html('<span class="formHintBubble" style="top: '+e+'px;">Không phải số điện thoại</span>').contents();d.append(f),$(a).val(c),b=!1}}return b},resetSrcIframe=function(a){if(a&&a.length>0){var b=a.find("iframe");if(b&&b.length>0){var c="";b.each(function(){c=$(this).attr("src"),$(this).attr("src",""),$(this).attr("src",c),$(this).show()})}}},showPopupLoadPage=function(){var a=$('.widget-section[lp-popup="true"]');a&&a.length>0&&0==showpop.loadpage&&(a.each(function(){var a=$(this).attr("lp-delay-show-popup-page"),b=$(this).attr("lp-show-popup-page"),c=$(this);if(b&&"1"==b){var d=0;a&&parseFloat(a)>0&&(d=1e3*a),setTimeout(function(){if($(".popup.ladi-popup-form").hide(),$('.widget-section[lp-popup="true"]').hide(),c.find(".container").find(".closePop").remove(),c.find(".container").find(".iframeTks").remove(),"true"==c.attr("lp-url-tracking")){var a="/"+c.attr("id")+"-thanks.html";c.attr("id")&&c.attr("id").length>0&&(a="/"+c.attr("id").toLowerCase()+"-thanks.html"),c.find(".container").eq(0).append('<iframe class="iframeTks" src="'+a+'" style="display: none;"></iframe>')}c.find(".container").eq(0).append('<div class="closePop" style="top:-25px; right:0;">X</div>'),c.css({display:"block",position:"fixed"}),resetTopPopup(),c.find(".closePop").unbind("click").click(function(){$(this).parent().parent().hide(),$("body").css({"overflow-y":"auto"})}),c.show(),$("body").css({overflow:"hidden"}),resetSrcIframe(c)},d)}}),showpop.loadpage++)},showPopupExitPage=function(){if(0==showpop.outpage){var a=$('.widget-section[lp-popup="true"]');a&&a.length>0&&a.each(function(){var a=$(this).attr("lp-show-popup-exit-page");if(a&&"1"==a){if($(".popup.ladi-popup-form").hide(),$('.widget-section[lp-popup="true"]').hide(),"true"==$(this).attr("lp-url-tracking")){var b="/"+$(this).attr("id")+"-thanks.html";void 0!==$(this).attr("id")&&(b="/"+$(this).attr("id").toLowerCase()+"-thanks.html"),$(this).find(".container").eq(0).find(".iframeTks").remove(),$(this).find(".container").eq(0).append('<iframe class="iframeTks" src="'+b+'" style="display: none;"></iframe>')}$(this).show(),resetSrcIframe($(this)),$(this).find(".container").find(".closePop").remove(),$(this).find(".container").eq(0).append('<div class="closePop" style="top:-25px; right:0;">X</div>'),$(this).css({display:"block",position:"fixed"}),resetTopPopup(),$(this).find(".closePop").unbind("click").click(function(){$(this).parent().parent().hide(),$("body").css({"overflow-y":"auto"})}),$("body").css({overflow:"hidden"})}}),showpop.outpage++}},showPopupScrollPage=function(){var a=$('.widget-section[lp-popup="true"]');a&&a.length>0&&a.each(function(){var a=$(this).attr("lp-show-popup-id-scroll");if(a&&a.length>0&&$("#"+a)&&"none"!=$("#"+a).css("display")&&-1==$.inArray(a,showpop.idSroll)){var b=$(window).scrollTop();if($("#"+a)&&$("#"+a).offset()&&$("#"+a).offset().top>b&&b+$(window).outerHeight()>$("#"+a).offset().top){if($(".popup.ladi-popup-form").hide(),$('.widget-section[lp-popup="true"]').hide(),"true"==$(this).attr("lp-url-tracking")){var c="/"+$(this).attr("id")+"-thanks.html";void 0!==$(this).attr("id")&&(c="/"+$(this).attr("id").toLowerCase()+"-thanks.html"),$(this).find(".container").eq(0).find(".iframeTks").remove(),$(this).find(".container").eq(0).append('<iframe class="iframeTks" src="'+c+'" style="display: none;"></iframe>')}$(this).show(),resetSrcIframe($(this)),$(this).find(".container").find(".closePop").remove(),$(this).find(".container").eq(0).append('<div class="closePop" style="top:-25px; right:0;">X</div>'),$(this).css({display:"block",position:"fixed"}),resetTopPopup(),$(this).find(".closePop").unbind("click").click(function(){$(this).parent().parent().hide(),$("body").css({"overflow-y":"auto"})}),$("body").css({overflow:"hidden"}),showpop.idSroll.push(a)}}})},actionLink=function(a){if(a&&a.length>0){var b=a.attr("lp-action-type"),c=a.attr("lp-action-link"),d=document.createElement("a");d.style.display="none",document.body.appendChild(d);var e=a.attr("lp-target");switch(b){case"email":c="mailto:"+c,d.setAttribute("href",c),d.style.display="none",d.click(),document.body.removeChild(d);break;case"phone":c="tel:"+c,d.setAttribute("href",c),d.style.display="none",d.click(),document.body.removeChild(d);break;case"page":c="#"+c,$("html, body").animate({scrollTop:$(c).offset().top},1e3);break;case"url":d.setAttribute("href",c),d.setAttribute("target",e),d.style.display="none",d.click(),document.body.removeChild(d);break;case"popup":var f=$("#"+c);if(f&&f.length>0){if($(".popup.ladi-popup-form").hide(),$('.widget-section[lp-popup="true"]').hide(),"true"==f.attr("lp-url-tracking")){var g="/"+f.attr("id")+"-thanks.html";void 0!==f.attr("id")&&(g="/"+f.attr("id").toLowerCase()+"-thanks.html"),f.find(".container").eq(0).find(".iframeTks").remove(),f.find(".container").eq(0).append('<iframe class="iframeTks" src="'+g+'" style="display: none;"></iframe>')}f.find(".container").find(".closePop").remove(),f.find(".container").eq(0).append('<div class="closePop" style="top:-25px; right:0;">X</div>'),f.css({display:"block",position:"fixed"}),resetTopPopup(),f.find(".closePop").unbind("click").click(function(){$(this).parent().parent().hide(),$("body").css({"overflow-y":"auto"})}),$("body").css({overflow:"hidden"}),resetSrcIframe(f);var h=new LadiApp;h.init()}break;default:document.body.removeChild(d)}}},runTrackingForm=function(eleFrom){eleFrom&&eleFrom.length>0&&(eleFrom&&eleFrom.attr("lp-id-pop-sub")&&eleFrom.attr("lp-id-pop-sub").length>0||eleFrom.attr("lp-id-pop-url")&&eleFrom.attr("lp-id-pop-url").length>0||eleFrom.attr("lp-tracking")&&eleFrom.attr("lp-tracking").length>0&&eval(eleFrom.attr("lp-tracking")))},popupForm=function(a,b){var c="";c=a&&a.length>0?a:"Chưa gửi được thông tin, vui lòng liên hệ trực tiếp với chúng tôi!";var d=$("#"+b);if(d&&d.attr("lp-id-pop-sub")&&d.attr("lp-id-pop-sub").length>0){$(".popup.ladi-popup-form").hide(),$('.widget-section[lp-popup="true"]').hide();var e=$("#"+d.attr("lp-id-pop-sub"));if(e.find(".container").find(".closePop").remove(),e.find(".container").find(".iframeTks").remove(),"true"==e.attr("lp-url-tracking")){e.find(".iframeTks").remove();var f=window.location.href+e.attr("id")+"-thanks.html";void 0!==e.attr("id")&&(f=window.location.href+e.attr("id").toLowerCase()+"-thanks.html"),e.find(".container").eq(0).append('<iframe class="iframeTks" src="'+f+'" style="display: none;"></iframe>')}e.find(".container").eq(0).append('<div class="closePop" style="top:-25px; right:0;">X</div>'),e.css({display:"block",position:"fixed"}),resetTopPopup(),e.find(".closePop").unbind("click").click(function(){$(this).parent().parent().hide(),$("body").css({"overflow-y":"auto"})}),$("body").css({overflow:"hidden"}),e.show()}else if(d.attr("lp-id-pop-url")&&d.attr("lp-id-pop-url").length>0)window.open(d.attr("lp-id-pop-url"),"_top");else{$(".popup.ladi-popup-form").hide(),$('.widget-section[lp-popup="true"]').hide();var g="";g+='<div class="popup ladi-popup-form" data-form="'+b+'" style="display:none;"> <div class="popup-dialog bounceIn animated" style="display: none;"> <div class="popup-header">',g+='<h3 class="popup-title">Thông báo </h3> <button class="close-popup">x</button>',g+='</div> <div class="popup-content">'+c+"</div> </div> </div>",$("body").append(g),$(".ladi-popup-form").show(),$(".ladi-popup-form").css({position:"fixed"}),$(".ladi-popup-form .popup-dialog").show(),$(".close-popup").click(function(){$('.ladi-popup-form[ data-form="'+b+'"]').remove(),$("body").css({"overflow-y":"auto"})}),$("body").css({overflow:"hidden"})}},Visitor=function(){},GoogleMap=function(){};GoogleMap.prototype.init=function(){var a=this,b=$('.widget-element[lp-type="googlemap"]');b.length>0&&b.each(function(){var b=$(this).find(".widget-content").eq(0)[0],c=parseFloat($(this).attr("lp-mapzoom")),d=$(this).attr("lp-mapaddress"),e=$(this).attr("lp-maptitletext"),f=$(this).attr("lp-maptitleimage");void 0!=f&&""!=f&&(e='<div class="lp-maptitle"><p><img src="'+f+'"></p><p>'+e+"</p></div>"),a.createMaps(b,c,d,e)})},GoogleMap.prototype.createMaps=function(a,b,c,d){var e;e=new google.maps.Geocoder,e.geocode({address:c},function(c,e){if(e==google.maps.GeocoderStatus.OK){var f=new google.maps.Map(a,{zoom:b,center:c[0].geometry.location}),g=new google.maps.Marker({map:f,position:c[0].geometry.location}),h=new google.maps.InfoWindow({content:d});h.open(f,g)}})};var LightBox=function(){};LightBox.prototype.init=function(){var a=$("[lp-lightbox]");void 0!=a&&a.length>0&&a.unbind("click").click(function(){var a=$(this).attr("lp-lightbox");if(void 0!=a&&"undefined"!=a&&""!=a&&$("#"+a).length>0){var b=$("#"+a);if(void 0!=b&&b.length>0){var c="",d=($(window).outerHeight()-600)/2,e=600;0>d&&(d=0,e=$(window).outerHeight()),c=c+'<div class="lp-popup-pub lightbox-image" style="position: fixed;"><div class="container animated fadeIn" style="display:none;"><div class="closePop" style="top:'+(d-12)+'px!important;left: -12px!important; padding:0px; padding-left: 6px;">X</div>'+b[0].outerHTML+"</div></div>",$("body").append(c),$(".lightbox-image #"+a).css({width:"100%",height:e+"px",left:"0px",top:d+"px"}),$(".lightbox-image .container").css({background:"rgba(0,0,0,0)"}),$(".lightbox-image").css({background:"rgba(0,0,0,0.5)"}),$(".lightbox-image #"+a).parent().show(),$(".lightbox-image #"+a).parent().css({position:"fixed"}),$(".lightbox-image .closePop").click(function(){$(this).parent().parent().remove(),$("body").css({"overflow-y":"auto"})}),$("body").css({overflow:"hidden"})}}})};var slider=function(){};slider.prototype.playAllSlider=function(){var a=$('.widget-element[lp-type="slider"]'),b=this;a.each(function(){b.playSlider($(this))})},slider.prototype.playSlider=function(a){var b=a.find('.widget-element[lp-type="item_slider"]');if(b&&b.length>0){var c=parseFloat(b.eq(0).css("width")),d=parseFloat(a.attr("lp-delay"));d&&d>0||(d=5e3);var e;runSlider=setInterval(function(){var d=a.find('.widget-element[lp-type="item_slider"]:last');if(parseFloat(d.css("left"))+c>parseFloat(a.css("width")))b.each(function(){e=parseFloat($(this).css("left"))-c,$(this).animate({left:e+"px"}),768>=widthWindow&&Math.round(e)>10?$(this).hide():$(this).show()});else{var f=0;b.each(function(){e=f*c,$(this).animate({left:e+"px"}),768>=widthWindow&&Math.round(e)>10?$(this).hide():$(this).show(),f++})}},d);var f=a.attr("lp-autoPlay");f&&f.length>0&&"1"==f||clearInterval(runSlider)}},slider.prototype.playSliderControl=function(){var a=this;$(".control-slider-right").unbind("click").click(function(b){b.preventDefault();var c=$(this).parent().parent();if(c&&"slider"==c.attr("lp-type")){var d=c.find('.widget-element[lp-type="item_slider"]');if(d&&d.length>0){d.each(function(){$(this).clearQueue().finish()}),$(this).clearQueue().finish(),clearTimeout(timeoutSlider);var e=c.find('.widget-element[lp-type="item_slider"]:last');if(Math.abs(parseFloat(e.css("left"))+parseFloat(e.css("width"))-parseFloat(c.css("width")))>10||768>=widthWindow)if(runSlider&&clearInterval(runSlider),768>=widthWindow){var f=0;d.each(function(a){"none"!=$(this).css("display")&&(f=a)});var g=d.eq(f);if(f<d.length-1){d.css({left:"0px"}).hide();var h=g.next();h.css({left:h.css("width")}),g.animate({left:0-parseFloat(g.outerWidth())+"px"}).show(),h.animate({left:"0px"}).show(),g.fadeOut("slow")}}else d.each(function(){$(this).animate({left:parseFloat($(this).css("left"))-parseFloat($(this).css("width"))+"px"});parseFloat($(this).css("left"))-parseFloat($(this).outerWidth());$(this).show()});timeoutSlider=setTimeout(function(){a.playAllSlider()},5e3)}}}),$(".control-slider-left").unbind("click").click(function(b){b.preventDefault();var c=$(this).parent().parent();if(c&&"slider"==c.attr("lp-type")){var d=c.find('.widget-element[lp-type="item_slider"]');if(d&&d.length>0){d.each(function(){$(this).clearQueue().finish()}),$(this).clearQueue().finish(),clearTimeout(timeoutSlider);c.find('.widget-element[lp-type="item_slider"]:last');if(parseFloat(d.eq(0).css("left"))<-10||768>=widthWindow)if(runSlider&&clearInterval(runSlider),768>=widthWindow){var e=0;d.each(function(a){"none"!=$(this).css("display")&&(e=a)});var f=d.eq(e);if(e>0){d.css({left:"0px"}).hide();var g=f.prev();g.css({left:0-parseFloat(f.outerWidth())+"px"}),f.animate({left:parseFloat(f.outerWidth())+"px"}).show(),g.animate({left:"0px"}).show(),f.fadeOut("slow")}}else d.each(function(){$(this).animate({left:parseFloat($(this).css("left"))+parseFloat($(this).css("width"))+"px"});parseFloat($(this).css("left"));$(this).show()});timeoutSlider=setTimeout(function(){a.playAllSlider()},5e3)}}})};var AjaxForm=function(){};AjaxForm.prototype.sendValue=function(a,b,c,d,e){var f=a.attr("lp-type-form");switch(f){case"pc":this.saveFormPc(a,b,c,d,e);break;case"google":this.google(a);break;case"linkpost":this.linkPost(a);break;case"mailchimp":this.mailchimp(a);break;case"getresponse":this.getresponse(a);break;case"email":this.email(a);break;case"google-sheet":this.saveGoogleSheet(a);break;default:this.saveFormPc(a,b,c,d,e)}setTimeout(function(){var b=$('.widget-element[lp-parent="'+a.attr("id")+'"]');b&&b.length>0&&b.css({"pointer-events":"auto"})},3e3)},AjaxForm.prototype.saveGoogleSheet=function(a){var b,c=a.find(".widget-content:eq(0) .widget-element"),d=[],e=a.attr("lp-action");c&&c.length>0&&(d=[],c.each(function(){b={},b={name:$(this).find(".widget-content").eq(0).attr("lp-name-id"),value:$(this).find(".widget-content").eq(0).val()},d.push(b)})),d&&d.length>0&&$.ajax({type:"POST",url:"http://dev.api.ladipage.vn/v1/app/sendInfoForm",data:{id:e,dataForm:d},success:function(b){popupForm(a.attr("lp-message-form"),a.attr("id")),runTrackingForm(a),a.find(".widget-element .widget-content").val("")},error:function(b){popupForm("Đã xảy ra lỗi, vui lòng kiểm tra lại! Hoặc liên hệ với chúng tôi để được hỗ trợ!",a.attr("id")),a.find(".widget-element .widget-content").val("")}})},AjaxForm.prototype.google=function(a){var b,c=(a.attr("lp-action"),JSON.parse(a.attr("lp-data-form"))),d=a.find(".widget-content:eq(0) .widget-element");b=c.itemsSave&&c.itemsSave.length>0?c.itemsSave:c.items;var e={},f="";b&&b.length>0?(d.each(function(a){for(var c=0;c<b.length;c++)if(f+=$(this).find(".widget-content").eq(0).val(),$(this).find(".widget-content").eq(0).attr("name")==b[c].nameFormUser){e[b[c].id]=$(this).find(".widget-content").eq(0).val();break}}),e.fvv=c.fvv,e.draftResponse=c.draftResponse,e.pageHistory=c.pageHistory,e.fbzx=c.fbzx,f?this.senForm(e,a,c.action):popupForm("Vui lòng điền thông tin không được để trống!","ladi-check-value")):popupForm("Chưa gửi được thông tin. Vui lòng liên hệ trực tiếp với chúng tôi!","ladi-check-value")},AjaxForm.prototype.linkPost=function(a){var b=a.find(".widget-content:eq(0) .widget-element"),c={};b.each(function(){c[$(this).find(".widget-content").eq(0).attr("name")]=$(this).find(".widget-content").eq(0).val()});var d=a.attr("lp-action");this.senForm(c,a,d)},AjaxForm.prototype.saveFormPc=function(a,b,c,d,e){var f="https://builder.ladipage.vn/api/index.php/Formdata/updateform",g={formid:b,listcontact:c,ladipageid:d,name:e};this.senForm(g,a,f)},AjaxForm.prototype.email=function(a){var b=a.find(".widget-content:eq(0) .widget-element"),c={},d="",e="";b.each(function(){$(this).find(".widget-content").eq(0).attr("lp-label")?(d=d+""+$(this).find(".widget-content").eq(0).attr("lp-label")+": "+$(this).find(".widget-content").eq(0).val()+"<br>",c[$(this).find(".widget-content").eq(0).attr("lp-label")]=$(this).find(".widget-content").eq(0).val()):(d=d+""+$(this).find(".widget-content").eq(0).attr("name")+": "+$(this).find(".widget-content").eq(0).val()+"<br>",c[$(this).find(".widget-content").eq(0).attr("name")]=$(this).find(".widget-content").eq(0).val()),e+=$(this).find(".widget-content").eq(0).val()});var f=a.attr("lp-action"),g={from:'"Ladipage" <no-reply@ladipage.vn>',to:f,subject:"Thông báo dữ liệu từ: "+window.location.href,text:"Dữ liệu:",html:d+"<br>Dữ liệu từ: "+window.location.href,id:$("head .title-site").attr("lp-id")};f&&-1!=f.search("https://docs.google.com/forms")||-1!=f.search("https://goo.gl/forms")?this.google(a):e?$.ajax({type:"POST",url:"https://api.ladipage.vn/v1/app/sendMail",data:g,success:function(b){popupForm(a.attr("lp-message-form"),a.attr("id")),runTrackingForm(a),a.find(".widget-element .widget-content").val("")},error:function(b){popupForm("Đã xảy ra lỗi, vui lòng kiểm tra lại! Hoặc liên hệ với chúng tôi để được hỗ trợ!",a.attr("id")),a.find(".widget-element .widget-content").val("")}}):popupForm("Vui lòng điền dữ liệu trước khi gửi!",a.attr("id"))},AjaxForm.prototype.mailchimp=function(a){var b=a.find(".widget-content:eq(0) .widget-element"),c={},d="",e="";b.each(function(){$(this).find(".widget-content").eq(0).attr("lp-label")?(d=d+""+$(this).find(".widget-content").eq(0).attr("lp-label")+": "+$(this).find(".widget-content").eq(0).val()+"<br>",c[$(this).find(".widget-content").eq(0).attr("lp-label")]=$(this).find(".widget-content").eq(0).val()):(d=d+""+$(this).find(".widget-content").eq(0).attr("name")+": "+$(this).find(".widget-content").eq(0).val()+"<br>",c[$(this).find(".widget-content").eq(0).attr("name")]=$(this).find(".widget-content").eq(0).val()),e+=$(this).find(".widget-content").eq(0).val()});var f=a.attr("lp-action"),g={from:'"Ladipage" <no-reply@ladipage.vn>',to:f,subject:"Thông báo dữ liệu từ: "+window.location.href,text:"Dữ liệu:",html:d+"<br>Dữ liệu từ: "+window.location.href,id:$("head .title-site").attr("lp-id")};e?$.ajax({type:"POST",url:"https://api.ladipage.vn/v1/app/sendMail",data:g,success:function(b){popupForm(a.attr("lp-message-form"),a.attr("id")),runTrackingForm(a),a.find(".widget-element .widget-content").val("")},error:function(b){popupForm("Đã xảy ra lỗi, vui lòng kiểm tra lại! Hoặc liên hệ với chúng tôi để được hỗ trợ!",a.attr("id")),a.find(".widget-element .widget-content").val("")}}):popupForm("Vui lòng điền dữ liệu trước khi gửi!",a.attr("id"))},AjaxForm.prototype.getresponse=function(a){var b=a.find(".widget-content:eq(0) .widget-element"),c={},d="",e="";b.each(function(){$(this).find(".widget-content").eq(0).attr("lp-label")?(d=d+""+$(this).find(".widget-content").eq(0).attr("lp-label")+": "+$(this).find(".widget-content").eq(0).val()+"<br>",c[$(this).find(".widget-content").eq(0).attr("lp-label")]=$(this).find(".widget-content").eq(0).val()):(d=d+""+$(this).find(".widget-content").eq(0).attr("name")+": "+$(this).find(".widget-content").eq(0).val()+"<br>",c[$(this).find(".widget-content").eq(0).attr("name")]=$(this).find(".widget-content").eq(0).val()),e+=$(this).find(".widget-content").eq(0).val()});var f=a.attr("lp-action"),g={from:'"Ladipage" <no-reply@ladipage.vn>',to:f,subject:"Thông báo dữ liệu từ: "+window.location.href,text:"Dữ liệu:",html:d+"<br>Dữ liệu từ: "+window.location.href,id:$("head .title-site").attr("lp-id")};e?$.ajax({type:"POST",url:"https://api.ladipage.vn/v1/app/sendMail",data:g,success:function(b){popupForm(a.attr("lp-message-form"),a.attr("id")),runTrackingForm(a),a.find(".widget-element .widget-content").val("")},error:function(b){popupForm("Đã xảy ra lỗi, vui lòng kiểm tra lại! Hoặc liên hệ với chúng tôi để được hỗ trợ!",a.attr("id")),a.find(".widget-element .widget-content").val("")}}):popupForm("Vui lòng điền dữ liệu trước khi gửi!",a.attr("id"))},AjaxForm.prototype.senForm=function(a,b,c){var d,e=$('.widget-element[lp-parent="'+b.attr("id")+'"]');e&&e.length>0&&"popup"==e.attr("lp-action-type")&&(d=$("#"+e.attr("lp-action-link"))),$.ajax({type:"POST",url:c,data:a,success:function(a){popupForm(b.attr("lp-message-form"),b.attr("id")),runTrackingForm(b),b.find(".widget-element .widget-content").val("")},error:function(a){var c=b.attr("lp-type-form");"pc"==c?popupForm(a.error,b.attr("id")):(popupForm(b.attr("lp-message-form"),b.attr("id")),runTrackingForm(b),b.find(".widget-element .widget-content").val(""))}})};var ReponsivePage=function(){};ReponsivePage.prototype.init=function(){var a=$(window).outerWidth(),b=1,c=$('head meta[name="viewport"]');375>=a?(b=a/375,c.attr("content","width=375,height=device-height,initial-scale="+b+", maximum-scale="+b+",minimum-scale="+b+',user-scalable="no"')):c.attr("content",'width=device-width,height=device-height, initial-scale=1.0, maximum-scale=1,minimum-scale=1, user-scalable="no"')};var onClick=function(ele,ev){if(ev.preventDefault(),ev.stopPropagation(),"button"==$(ele).attr("lp-type")&&$(ele).attr("lp-parent")&&$(ele).attr("lp-parent").length>0){$(ele).css({"pointer-events":"none"});var parent=$(ele).parent().parent(),idForm=$(ele).attr("lp-parent"),formTarget=$("#"+idForm),inputValue=formTarget.find(".widget-element"),listcontact=[],ladipageid=$("title.title-site").attr("lp-id"),nameForm=$("#"+idForm).attr("lp-lang"),value="";inputValue.each(function(){var a={key:$(this).find(".widget-content").eq(0).attr("name"),value:$(this).find(".widget-content").eq(0).val()};listcontact.push(a)});var inputRequired=formTarget.find('.widget-element [required="required"]');if(inputRequired&&inputRequired.length>0)inputRequired.each(function(a){if(!this.validity.valid){$(".formHintBubble").remove(),$(this).focus();var b=formTarget.find(".widget-content:eq(0)"),c=$(this),d=c.get(0),e=(c.position(),d.validationMessage||"Invalid value."),f=$(this).outerHeight()+parseFloat($(this).parent().css("top")),g=$("<span/>").html('<span class="formHintBubble" style="top: '+f+'px;">'+e+"</span>").contents();return b.append(g),$(ele).css({"pointer-events":"auto"}),!1}if(!checkphone($(this)))return $(this).focus(),$(ele).css({"pointer-events":"auto"}),!1;if(a==formTarget.find('.widget-element [required="required"]').length-1){$(".formHintBubble").remove();var h=new AjaxForm;h.sendValue(formTarget,idForm,listcontact,ladipageid,nameForm)}});else{var ajaxForm=new AjaxForm;ajaxForm.sendValue(formTarget,idForm,listcontact,ladipageid,nameForm)}}else{var elementClick=$(ele).attr("lp-click-element"),elementAction=$(ele).attr("lp-action"),target=$(ele).attr("lp-target");if(elementAction&&elementAction.length>0&&"contact_form"!=$(ele).attr("lp-type")){var link=document.createElement("a");link.href=elementAction,link.target=target,document.body.appendChild(link),link.click(),link.remove()}if(elementClick&&elementClick.length>0){elementClick=JSON.parse(elementClick);for(var i=0;i<elementClick.length;i++)"show"==elementClick[i].click?($("#"+elementClick[i].id).removeClass(elementClick[i].animate),$("#"+elementClick[i].id).addClass(elementClick[i].animate).hide(),$("#"+elementClick[i].id).show()):$("#"+elementClick[i].id).hide()}if($(ele).attr("lp-tracking")&&$(ele).attr("lp-tracking").length>0&&"contact_form"!=$(ele).attr("lp-type")){var tracking=$(ele).attr("lp-tracking");eval(tracking)}actionLink($(ele))}},LadiApp=function(){};LadiApp.prototype.init=function(){var a=$(".widget-element");if(a&&a.length>0){var b="",c="";a.each(function(){b=$(this).attr("lp-type"),c=$(this).attr("lp-action-link");var a=$(this).attr("lp-tracking");if("customhtml"!=b&&c&&c.length>0&&($(this).attr("onclick","onClick(this, event)"),$(this).css({cursor:"pointer"})),"contact_form"==b){var d=$(this).attr("id"),e=$('.widget-element[lp-parent="'+d+'"]');e.attr("onclick","onClick(this, event)"),e.css({cursor:"pointer"})}if("videoyoutube"==b&&"1"==$(this).attr("lp-autoPlay")){for(var f=$(this).find(".widget-content").eq(0).attr("src"),g=0,h=0;h<f.length;h++)"?"==f[h]&&(g=1);f+=0==g?"?autoplay=1":"&autoplay=1",$(this).find(".widget-content").eq(0).attr("src",f)}a&&a.length>0&&($(this).attr("onclick","onClick(this, event)"),$(this).css({cursor:"pointer"}))})}$(window).on("mousewheel",function(a){a.originalEvent.wheelDelta>=0||showPopupScrollPage();var b=$(window).scrollTop(),c=$(".widget-section:visible"),d=$('.widget-section[lp-popup="true"]:visible');if(d&&d.length>0);else{var e=$(window).outerHeight();c.each(function(){var a=$(this).offset().top,c=$(this).outerHeight(),d=$(this).find(".animated");d&&d.length>0&&-1==$.inArray($(this).attr("id"),LP_DOC.arrAnimate)&&(d.hide(),b>a+c||a>b+e?d.each(function(){"none"==$(this).css("display")&&"none"!=$(this).attr("lp-display")&&$(this).css({display:$(this).attr("lp-display")})}):(d.each(function(){$(this).hide(),"fixed"!=$(this).css("position")&&$(this).hasClass("widget-element")&&"true"==$(this).attr("lp-popup")||$(this).show()}),LP_DOC.arrAnimate.push($(this).attr("id"))))}),stickyRun()}}),$(window).on("scroll",function(a){var b=$('.widget-section[lp-popup="true"]:visible');if(b&&b.length>0);else{if(768>widthWindow){showPopupScrollPage();var c=$(window).scrollTop(),d=$(".widget-section:visible"),e=$(window).outerHeight();d.each(function(){var a=$(this).offset().top,b=$(this).outerHeight(),d=$(this).find(".animated");d&&d.length>0&&-1==$.inArray($(this).attr("id"),LP_DOC.arrAnimate)&&(d.hide(),c>a+b||a>c+e?d.each(function(){"none"==$(this).css("display")&&"none"!=$(this).attr("lp-display")&&$(this).css({display:$(this).attr("lp-display")})}):(d.each(function(){$(this).hide(),"fixed"!=$(this).css("position")&&$(this).hasClass("widget-element")&&"true"==$(this).attr("lp-popup")||$(this).show()}),LP_DOC.arrAnimate.push($(this).attr("id"))))})}stickyRun()}});var d=new slider;d.playAllSlider(),d.playSliderControl();var e=new GoogleMap;e.init();var f=new LightBox;f.init();var g=$('.widget-section[lp-popup="true"]');g&&g.length>0,g.on("scroll",function(a){var b=$(this).find(".closePop");b&&b.length>0&&b.css({top:$(this).scrollTop()-25+"px"})})};var stickyRun=function(){var a,b,c,d,e=$('[lp-sticky="1"]'),f=$(window).scrollTop(),g=$(window).outerHeight();e&&e.length>0&&e.each(function(){c=$(this).attr("lp-style-offset-left")+"px",d=parseFloat($(this).attr("lp-style-offset-top")),a=$(this).attr("lp-sticky-pos"),b=parseFloat($(this).attr("lp-sticky-kc")),f>d||d>f+g?($(this).css({position:"fixed","z-index":"9999"}),"top"==a?$(this).css({top:b,bottom:"auto",left:c}):$(this).css({bottom:b,top:"auto",left:c})):$(this).css({position:"absolute","z-index":"99",top:$(this).attr("lp-style-old-top"),left:$(this).attr("lp-style-old-left")})})};$(document).ready(function(){$(".widget-element a").click(function(a){a.preventDefault()});var a=new ReponsivePage;a.init(),showPopupLoadPage();var b=$('[lp-sticky="1"]');b&&b.length>0&&b.each(function(){$(this).attr({"lp-style-old-top":$(this).css("top"),"lp-style-old-left":$(this).css("left"),"lp-style-offset-top":$(this).offset().top,"lp-style-offset-left":$(this).offset().left})}),stickyRun(),$(".lp-close-fb-mes").unbind("click").click(function(a){var b=$(this).parent();if(b&&b.hasClass("widget-element")){'<style id-style-mes="'+b.attr("id")+'">#'+b.attr("id")+" .widget-content{display:none!important}</style>";$('style[id-style-mes="'+b.attr("id")+'"]').remove(),b.find(".widget-content").removeClass("fadeOutDown fadeInUp animated").addClass("fadeOutDown animated"),setTimeout(function(){},1e3),$(this).hide(),b.find(".lp-open-fb-mes").show()}}),$(".lp-open-fb-mes").unbind("click").click(function(a){var b=$(this).parent();if(b&&b.hasClass("widget-element")){var c='<style id-style-mes="'+b.attr("id")+'">#'+b.attr("id")+" .widget-content{display:block!important}</style>";$('style[id-style-mes="'+b.attr("id")+'"]').remove(),b.find(".widget-content").eq(0).removeClass("fadeInUp fadeOutDown animated").addClass("fadeInUp animated"),$("head").append(c),$(this).hide(),b.find(".lp-close-fb-mes").show()}}),$('.widget-element[lp-type!="button"]').removeAttr("href"),$(".widget-element .widget-content").removeAttr("href");var c=$(window).outerWidth();$(window).resize(function(){var a=$(window).outerWidth();if(a!=c){var b=new ReponsivePage;b.init()}resetTopPopup()}),$("input").focus(function(a){a.preventDefault()}),$('.widget-section[lp-display="none"]').css({display:"none"}),$('.widget-section[lp-popup="true"]').hide(),$('.widget-element[lp-type="countdown"]').each(function(){var a,b=$(this).attr("lp-endtimeType");if(a=$(this).attr("lp-endtime"),"time"==b)a=a.replace("GMT ","GMT+"),countDown($(this),new Date(a));else{var c=new Date;c.setMinutes(c.getMinutes()+parseFloat(a)),countDown($(this),new Date(c))}});var d=$(".animated");d&&d.length>0&&d.each(function(){"fixed"==$(this).css("position")?$(this).show():$(this).hasClass("widget-element")||$(this).hasClass("widget-section")||"true"==$(this).attr("lp-popup")?$(this).hide():$(this).show()});var e=$(".widget-section.animated");e.each(function(){"true"==$(this).attr("lp-popup")?$(this).hide():$(this).css({display:$(this).attr("lp-display")})});var f=$(".widget-section:visible"),g=$(window).scrollTop(),h=$("body").offset().top+g,i=$("body").outerHeight();f.each(function(){var a=$(this).offset().top,b=$(this).outerHeight(),c=$(this).find(".animated");h>a+b||a>h+i?c.each(function(){"fixed"!=$(this).css("position")&&$(this).hasClass("widget-element")&&"true"==$(this).attr("lp-popup")?$(this).hide():$(this).show()}):c.each(function(){"none"==$(this).css("display")&&"none"!=$(this).attr("lp-display")&&$(this).css({display:$(this).attr("lp-display")})})}),$(".widget-section").click(function(a){$(a.target).hasClass("widget-section")&&"true"==$(a.target).attr("lp-popup")&&($(a.target).hide(),$("body").css({"overflow-y":"auto"}))});var j=new LadiApp;j.init(),$(document).mouseleave(function(){showPopupExitPage()}),$('.widget-element[lp-type="facebook_comment"]').scrollTop(0)});